{% load static %}
{% load aion_extras %}
<html>
    <head>
        <!-- For fonts -->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css?family=Josefin+Sans|PT+Serif" rel="stylesheet">
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <!--Import jQuery before materialize.js-->
    </head>
    <body>
        <!-- This is the code for the navigation bar -->
        <div class="row navbar-fixed z-depth-3">
            <ul id="dropdown1" class="dropdown-content card">
            <!--ROLE FUNCTIONALITIES-->

                {% if loggeduser.is_authenticated %}
              <!--PRODUCT MANAGER-->
                {% if loggeduser|has_group:"Product Manager"%}
              <li><a href="{% url 'addproduct' %}">Add Product<i class="small material-icons right">add</i></a></li>
              <li class="divider"></li>
                {% endif %}

                {% if loggeduser|has_group:"Accounting Manager"%}
              <li><a href="{% url 'transactionsAM' %}">Transactions<i class="small material-icons right">book</i></a></li>
              <li class="divider"></li>
                {% endif %}

                <!-- Profile -->
              <li><a href="{% url 'viewaccount' loggeduser.id %}">My Profile</a></li>
              <li class="divider"></li>

                {% if loggeduser|has_group:"Customer"%}
              <li><a href="{% url 'transactions' %}">Purchase History</a></li>
              <li class="divider"></li>
                {% endif %}

              <li><a href="{% url 'logout' %}" class="red-text">Log Out<i class="small material-icons right">power_settings_new</i></a></li>

                {% else %}
              <li><a href="{% url 'login' %}">Login</a></li>
              <li><a href="{% url 'register' %}">Sign up</a></li>
                {% endif %}
            </ul>
            <nav class="nav-extended grey darken-4">
                <div class="container nav-wrapper">
                        <a href="{% url 'home' %}" class="brand-logo yellow-text text-darken-3 center">Aion Wristwatches</a>
                        <ul id="nav-mobile" class="right hide-on-med-and-down">
                            <li><a class="dropdown-button yellow-text text-darken-3" href="#!" data-activates="dropdown1"><i class="large material-icons">person</i></a></li>

                            {% if loggeduser.is_authenticated %}
                            {% if loggeduser|has_group:"Customer"%}
                            <li><a class=" yellow-text text-darken-3" href="{% url 'cart' %}"><i class="large material-icons">shopping_cart</i></a></li>
                            {% endif %}
                            {% endif %}


                      </ul>

                </div>


<!--
                <form class="navbar-form navbar-left" role="search" method="get" action="{% url 'search' %}">
                    <div class="form-group">
                        <input type="text" class="form-control" name="search_input" id="searchtag">
                    </div>
                    <button type="submit" class="btn btn-default">Search</button>
                </form>
-->


          </nav>
        </div>
        {% if loggeduser|has_group:"Administrator" %}
        <div class = "container">
            <div class = "row center">
                <h1 class = "row col s12 adminLogoClass"> You are not allowed here Mr. Admin! </h1>
            </div>
            <div class = "row center">
                <a href = "{%url 'administrator' %}"class="waves-effect waves-light btn amber z-depth-3"><i class="material-icons left">lock</i>Click here to return to the Admin Menu</a>
            </div>

        </div>
        {% else %}
        {% block content %}
        {% endblock %}
        {% endif %}

    </body>

    {% block script %}
    {% endblock %}
    <!-- Importing dependencies (Materialize, JQuery etc.) Might change to static files soon -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Berkshire+Swash|Nanum+Myeongjo|Noticia+Text|Spectral+SC" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}" />
    <!-- For initialization of componenents -->
    <script type="text/javascript">
    $(document).ready(function() {
    $('select').material_select();
  });
          $(document).ready(function(){
            $('.carousel').carousel();
           });
      </script>
 <script>$(document).ready(function(){
    $('.materialboxed').materialbox();
  });</script>
    <script>  $(document).ready(function(){
    $('.modal').modal();
  });</script>
</html>
